if(document.domain=='eyemanage.eyemedvisioncare.com'){ async function processEyeMed(){ function delay(n) { return new Promise(function(resolve) { setTimeout(resolve, n * 200); }); }; const dic_EEPart1={ 'FIRST_NAME':'firstName', 'LAST_NAME':'lastName', 'DOB':'dob', 'GENDER':'gender' }; const dic_EEPart2={ 'ADD1':'line1', 'ADD2':'line2', 'ADDCITY':'city', 'ADDCOUNTY':'county' }; const dic_dependent={ 'FIRST_NAME':'firstName', 'LAST_NAME':'lastName', 'DOB':'dob' }; if(document.getElementById('relationship')==null && document.getElementById('line1')==null){ if (jsonObject.ee_BASIC_info.DOB.includes(" ")==true) { var BirthDate = jsonObject.ee_BASIC_info.DOB.split(" ")[0]; }else{ var BirthDate = jsonObject.ee_BASIC_info.DOB; }; for(var keyv in dic_EEPart1){ var itemv=dic_EEPart1[keyv]; var el =document.getElementById(itemv); switch(keyv){ case 'DOB': el.value=BirthDate; el.dispatchEvent(new Event("input")); break; case 'GENDER': if (jsonObject.ee_BASIC_info.GENDER=='F'|| jsonObject.ee_BASIC_info.GENDER=="Female"){ el.value='F'; }else if (jsonObject.ee_BASIC_info.GENDER=='M'||jsonObject.ee_BASIC_info.GENDER=="Male"){ el.value='M'; }; el.dispatchEvent(new Event('change')); break; default: el.value=jsonObject.ee_BASIC_info[keyv]; el.dispatchEvent(new Event("input")); }; }; async function job_click(){ var el = document.querySelector("#ssn"); var clickEvent = new Event('focus', {bubbles: true}); clickEvent.simulated = true; el.dispatchEvent(clickEvent); }; async function job(){ var el = document.querySelector("#ssn"); el.value=jsonObject.ee_BASIC_info.SSN; el.dispatchEvent(new Event('input', {bubbles: true})); el.dispatchEvent(new Event('change', {bubbles: true})); el.dispatchEvent(new Event('blur', {bubbles: true})); }; async function start_job(){ await job_click(); await job(); }; start_job(); }else if(document.getElementById('relationship')==null && document.getElementById('line1')!=null){ var el=document.getElementById('zip'); el.value=jsonObject.ee_BASIC_info.ADDZIP; el.dispatchEvent(new Event('input')); for(var keyv in dic_EEPart2){ var itemv=dic_EEPart2[keyv]; var el =document.getElementById(itemv); el.value=jsonObject.ee_BASIC_info[keyv]; await delay(1); el.dispatchEvent(new Event("input")); }; }else if(document.getElementById('relationship')!=null){ if (jsonObject.ee_DEPT_info.Spouse.FIRST_NAME != "" && jsonObject.ee_DEPT_info.Spouse.is_entered == ""){ if (jsonObject.ee_DEPT_info.Spouse.DOB.includes(" ")==true) { var BirthDate = jsonObject.ee_DEPT_info.Spouse.DOB.split(" ")[0]; }else{ var BirthDate = jsonObject.ee_DEPT_info.Spouse.DOB; }; for (var keyv in dic_dependent){ var itemv=dic_dependent[keyv]; var el=document.getElementById(itemv); switch(keyv){ case 'DOB': el.value=BirthDate; el.dispatchEvent(new Event("input")); break; default: el.value=jsonObject.ee_DEPT_info.Spouse[keyv]; el.dispatchEvent(new Event("input")); }; }; var el=document.getElementById('relationship'); if(jsonObject.ee_DEPT_info.Spouse.RELATION=='Spouse'){ if(jsonObject.ee_DEPT_info.Spouse.GENDER=='F'||jsonObject.ee_DEPT_info.Spouse.GENDER=='Female'){ el.value='W'; el.dispatchEvent(new Event('change')); }else if(jsonObject.ee_DEPT_info.Spouse.GENDER=='M'||jsonObject.ee_DEPT_info.Spouse.GENDER=='Male'){ el.value='H'; el.dispatchEvent(new Event('change')); }else{ el.value='p'; el.dispatchEvent(new Event('change')); var el=document.getElementById('gender'); if(jsonObject.ee_DEPT_info.Spouse.GENDER=='M'||jsonObject.ee_DEPT_info.Spouse.GENDER=='Male'){ el.value='M'; el.dispatchEvent(new Event('change')); }else if (jsonObject.ee_DEPT_info.Spouse.GENDER=='F'||jsonObject.ee_DEPT_info.Spouse.GENDER=='Female'){ el.value='F'; el.dispatchEvent(new Event('change')); }; }; }; async function job_click(){ var el = document.querySelector("#ssn"); var clickEvent = new Event('focus', {bubbles: true}); clickEvent.simulated = true; el.dispatchEvent(clickEvent); }; async function job(){ var el = document.querySelector("#ssn"); el.value=jsonObject.ee_DEPT_info.Spouse.SSN; el.dispatchEvent(new Event('input', {bubbles: true})); el.dispatchEvent(new Event('change', {bubbles: true})); el.dispatchEvent(new Event('blur', {bubbles: true})); }; async function start_job(){ await job_click(); await job(); }; start_job(); jsonObject.ee_DEPT_info.Spouse.is_entered='T'; }else if (jsonObject.ee_DEPT_info.Child.FIRST_NAME !=''){ if (jsonObject.ee_DEPT_info.Child.FIRST_NAME.includes('|') == false) { if (jsonObject.ee_DEPT_info.Child.DOB.includes(" ")==true) { var BirthDate = jsonObject.ee_DEPT_info.Child.DOB.split(" ")[0]; }else{ var BirthDate = jsonObject.ee_DEPT_info.Child.DOB; }; for (var keyv in dic_dependent){ var itemv=dic_dependent[keyv]; var el=document.getElementById(itemv); switch(keyv){ case 'DOB': el.value=BirthDate; el.dispatchEvent(new Event("input")); break; default: el.value=jsonObject.ee_DEPT_info.Spouse[keyv]; el.dispatchEvent(new Event("input")); }; }; var el=document.getElementById('relationship'); if (jsonObject.ee_DEPT_info.Child.GENDER=='F'||jsonObject.ee_DEPT_info.Child.GENDER=='Female') { el.value='D'; el.dispatchEvent(new Event('change')); }else if (jsonObject.ee_DEPT_info.Child.GENDER=='M'||jsonObject.ee_DEPT_info.Child.GENDER=='Male') { el.value='S'; el.dispatchEvent(new Event('change')); }; jsonObject.ee_DEPT_info.Child.is_entered = 'T'; }else{ var child_ct = jsonObject.ee_DEPT_info.Child.FIRST_NAME.split('|').length; if (jsonObject.ee_DEPT_info.Child.is_entered==''){ var child_entered_ct =0; }else{ child_entered_ct=jsonObject.ee_DEPT_info.Child.is_entered.split('|').length; }; if(child_entered_ct<child_ct){ var BirthDate = jsonObject.ee_DEPT_info.Child.DOB.split("|")[child_entered_ct]; if (BirthDate.includes(" ")==true) { var BirthDate = BirthDate.split(" ")[0]; }; for (var keyv in dic_dependent){ var itemv=dic_dependent[keyv]; var el =document.getElementById(itemv); switch(keyv){ case 'DOB': el.value=BirthDate; el.dispatchEvent(new Event("input")); break; default: el.value=jsonObject.ee_DEPT_info.Child[keyv].split("|")[child_entered_ct]; el.dispatchEvent(new Event("input")); }; }; var el=document.getElementById('relationship'); if (jsonObject.ee_DEPT_info.Child.GENDER.split("|")[child_entered_ct]=='F'||jsonObject.ee_DEPT_info.Child.GENDER.split("|")[child_entered_ct]=='Female') { el.value='D'; el.dispatchEvent(new Event('change')); }else if (jsonObject.ee_DEPT_info.Child.GENDER.split("|")[child_entered_ct]=='M'||jsonObject.ee_DEPT_info.Child.GENDER.split("|")[child_entered_ct]=='Male') { el.value='S'; el.dispatchEvent(new Event('change')); }; async function job_click(){ var el = document.querySelector("#ssn"); var clickEvent = new Event('focus', {bubbles: true}); clickEvent.simulated = true; el.dispatchEvent(clickEvent); }; async function job(){ var el = document.querySelector("#ssn"); el.value=jsonObject.ee_DEPT_info.Child.SSN.split("|")[child_entered_ct]; el.dispatchEvent(new Event('input', {bubbles: true})); el.dispatchEvent(new Event('change', {bubbles: true})); el.dispatchEvent(new Event('blur', {bubbles: true})); }; async function start_job(){ await job_click(); await job(); }; start_job(); if (child_entered_ct==0){ jsonObject.ee_DEPT_info.Child.is_entered = "T"; }else { jsonObject.ee_DEPT_info.Child.is_entered = jsonObject.ee_DEPT_info.Child.is_entered + "|" + "T"; }; }; }; }; }; }; processEyeMed(); };
