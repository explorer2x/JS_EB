if (document.domain == "employer.anthem.com") { function delay(n) { return new Promise(function(resolve) { setTimeout(resolve, n * 50); }); }; if (document.body.textContent.includes("Enter the ID Number of the employee you'd like to add (typically a Social Security Number). Or, enter a custom Member ID.")) { var enrollapp = document.getElementsByTagName('app-new-enrollment')[0]; var alldivTags = enrollapp.getElementsByTagName("div"); for (i = 0; i < alldivTags.length; i++) if (alldivTags[i].textContent.trim() == 'ID Number, Member ID, or SSN') { input_refresh_el(alldivTags[i].querySelector('input[name="id"]'), jsonObject.ee_BASIC_info.SSN.replace(/[^\d]+/g, '')); break; } var allbtTags = enrollapp.getElementsByTagName("button"); for (i = 0; i < allbtTags.length; i++) if (allbtTags[i].getAttribute('type') == 'submit') { allbtTags[i].click(); break; } }; if (document.querySelector('[name="signDate"]') != null) { const dic = { "FIRST_NAME": "firstName", "MIDDLE_NAME": "mi", "LAST_NAME": "lastName", "DOB": "dob", "DATE_OF_HIRE": "hired", "ELIG_DATE": "signDate", "SSN": "ssn", "ADD1": "address1", "ADD2": "address2", "ADDSTATE": "state", "ADDCITY": "city", "ADDZIP": "zipCode", "HOMEPHONE": "phone", "PERSONAL_EMAIL": "email", }; for (var keyv in dic) { var itemv = dic[keyv]; if (itemv != '') { var el = document.querySelector('[name="' + itemv + '"]'); if (el != null) { if (keyv == "DOB" || keyv == "DOH" || keyv == "ELIG_DATE") { g_doh = new Date(jsonObject.ee_BASIC_info[keyv]); input_refresh_el(el, getFormattedDate(g_doh)); } else if (keyv == 'SSN' || keyv == 'HOMEPHONE') { input_refresh_el(el, jsonObject.ee_BASIC_info[keyv].replace(/[^\d]+/g, '')); } else { input_refresh_el(el, jsonObject.ee_BASIC_info[keyv]); }; }; }; }; var sex_v = jsonObject.ee_BASIC_info['GENDER']; if (sex_v == 'F' || sex_v == 'Female') { var sex_s = 'female'; } else if (sex_v == 'M' || sex_v == 'Male') { var sex_s = 'male'; }; input_refresh_el(document.querySelector('[name="gen"]'), sex_s); }; if (document.getElementsByTagName('app-dependent-info').length == 1) { var dept_ct = 0; var enter_i = 0; function add_dept() { var enrollapp = document.getElementsByTagName('app-new-enrollment')[0]; var allPageTags = enrollapp.getElementsByTagName("a"); for (i = 0; i < allPageTags.length; i++) { if (allPageTags[i].textContent.trim() == 'Add a Dependent' || allPageTags[i].textContent.trim() == 'Add Another Dependent') { allPageTags[i].click(); break; } }; }; if (jsonObject.ee_DEPT_info.Spouse.FIRST_NAME != "") { dept_ct = dept_ct + 1; }; if (jsonObject.ee_DEPT_info.Child.FIRST_NAME != "") { dept_ct = dept_ct + jsonObject.ee_DEPT_info.Child.FIRST_NAME.split('|').length; }; if (dept_ct > 0) { var dept_i = 0; anthem_dept_dic = { "FIRST_NAME": "First Name", "MIDDLE_NAME": "Middle Initial", "LAST_NAME": "Last Name", "DOB": "Date of Birth", "SSN": "Social Security Number", }; function get_dept_el() { const spouse_elementList = []; var allPageTags = document.getElementsByTagName("legend"); for (i = 0; i < allPageTags.length; i++) { if (allPageTags[i].textContent.trim() == 'Dependents') { var alli = allPageTags[i].parentElement.children; for (o = 1; o < alli.length; o++) { if (alli[o].getAttribute('class') == 'ng-star-inserted') { spouse_elementList.push(alli[o]) } } break; } }; return spouse_elementList } function get_input_el(indx, nm) { var el = get_dept_el()[indx]; var alldivTags = el.getElementsByTagName("label"); for (i = 0; i < alldivTags.length; i++) if (alldivTags[i].textContent.trim() == nm) { var res_el = alldivTags[i].parentElement.querySelector('input'); break; }; return (res_el) } function delay(n) { return new Promise(function(resolve) { setTimeout(resolve, n * 50); }); } async function add_dept_func() { for (dept_add_i = 0; dept_add_i < dept_ct; dept_add_i++) { add_dept(); } await delay(1); if (jsonObject.ee_DEPT_info.Spouse.FIRST_NAME != "" && jsonObject.ee_DEPT_info.Spouse.is_entered == "") { var sp_e = get_dept_el()[dept_i]; for (var key in anthem_dept_dic) { var itemv = anthem_dept_dic[key]; var tgt_elv = get_input_el(dept_i, itemv); if (tgt_elv != null) { if (key == "DOB") { g_doh = new Date(jsonObject.ee_DEPT_info.Spouse[key]); input_refresh_el(tgt_elv, getFormattedDate(g_doh)); } else if (key == 'SSN' || key == 'HOMEPHONE') { input_refresh_el(tgt_elv, jsonObject.ee_DEPT_info.Spouse[key].replace(/[^\d]+/g, '')); } else { input_refresh_el(tgt_elv, jsonObject.ee_DEPT_info.Spouse[key]); }; }; }; var rel = jsonObject.ee_DEPT_info.Spouse.RELATION; var optionValue = rel ? rel : "Spouse"; input_refresh_el(sp_e.querySelector('#relSelect'), optionValue); var sex_v = jsonObject.ee_DEPT_info.Spouse['GENDER']; if (sex_v == 'F' || sex_v == 'Female') { var sex_s = 'female'; } else if (sex_v == 'M' || sex_v == 'Male') { var sex_s = 'male'; }; input_refresh_el(sp_e.querySelector('#depGender'), sex_s); dept_i++; } if (jsonObject.ee_DEPT_info.Child.FIRST_NAME != "") { if (jsonObject.ee_DEPT_info.Child.FIRST_NAME.includes('|') == false) { if (jsonObject.ee_DEPT_info.Child.is_entered != "T") { var child_e = get_dept_el()[dept_i]; for (var key in anthem_dept_dic) { var itemv = anthem_dept_dic[key]; var tgt_elv = get_input_el(dept_i, itemv); if (tgt_elv != null) { if (key == "DOB") { g_doh = new Date(jsonObject.ee_DEPT_info.Child[key]); input_refresh_el(tgt_elv, getFormattedDate(g_doh)); } else if (key == 'SSN' || key == 'HOMEPHONE') { input_refresh_el(tgt_elv, jsonObject.ee_BASIC_info[key].replace(/[^\d]+/g, '')); } else { input_refresh_el(tgt_elv, jsonObject.ee_DEPT_info.Child[key]); }; }; }; var sex_v = jsonObject.ee_DEPT_info.Child['GENDER']; if (sex_v == 'F' || sex_v == 'Female') { var sex_s = 'female'; } else if (sex_v == 'M' || sex_v == 'Male') { var sex_s = 'male'; }; input_refresh_el(child_e.querySelector('#depGender'), sex_s); var rel = jsonObject.ee_DEPT_info.Child.RELATION; var optionValue = rel ? rel : "Child"; input_refresh_el(child_e.querySelector('#relSelect'), optionValue); jsonObject.ee_DEPT_info.Child.is_entered = "T"; dept_i++; } } else { var child_ct = jsonObject.ee_DEPT_info.Child.FIRST_NAME.split("|").length; for (var x = 0; x < child_ct; x++) { var child_e = get_dept_el()[dept_i]; for (var key in anthem_dept_dic) { var itemv = anthem_dept_dic[key]; var tgt_elv = get_input_el(dept_i, itemv);; if (tgt_elv) { if (key == "DOB") { g_doh = new Date(jsonObject.ee_DEPT_info.Child[key].split("|")[x]); input_refresh_el(tgt_elv, getFormattedDate(g_doh)); } else if (key == 'SSN') { input_refresh_el(tgt_elv, jsonObject.ee_DEPT_info.Child[key].split("|")[x].replace(/[^\d]+/g, '')); } else { input_refresh_el(tgt_elv, jsonObject.ee_DEPT_info.Child[key].split("|")[x]); }; }; }; var sex_v = jsonObject.ee_DEPT_info.Child['GENDER'].split("|")[x]; if (sex_v == 'F' || sex_v == 'Female') { var sex_s = 'female'; } else if (sex_v == 'M' || sex_v == 'Male') { var sex_s = 'male'; }; input_refresh_el(child_e.querySelector('#depGender'), sex_s); var rel = jsonObject.ee_DEPT_info.Child['RELATION'].split("|")[x]; var optionValue = rel ? rel : "Child"; input_refresh_el(child_e.querySelector('#relSelect'), optionValue); if (x == 0) { jsonObject.ee_DEPT_info.Child.is_entered = "T" } else { jsonObject.ee_DEPT_info.Child.is_entered = jsonObject.ee_DEPT_info.Child.is_entered + "|" + "T"; } dept_i++; } }; }; }; add_dept_func(); }; } };
