if (document.domain.includes("employeenavigator.com")) { if (document.querySelector("#companyWall > div > div.wall_header") != null) { const wall_dic = {}; const tables = document.querySelector("#event_print > div:nth-child(3) > div:nth-child(1)").querySelectorAll('.table'); for (t = 0; t < tables.length; t++) { const k = tables[t].previousElementSibling.textContent.trim(); const tableRows = tables[t].querySelectorAll(' tbody tr'); const info = {}; tableRows.forEach((row) => { const key = row.querySelector("td.bold").textContent.trim(); const value = row.querySelector("td:not(.bold)").textContent.trim(); info[key] = value; }); wall_dic[k] = info; } if (Object.keys(wall_dic).length > 0) { dic = { "First Name:": "FIRST_NAME", "Last Name:": "LAST_NAME", "Middle:": "MIDDLE_NAME", "SSN:": "SSN", "DOB:": "DOB", "Sex:": "GENDER", "Marital Status:": "MARITAL_STATUS", "Home Phone:": "HOMEPHONE", "Work Phone:": "WORKPHONE", "Email:": "WORK_EMAIL", "Home Address 1:": "ADD1", "Home Address 2:": "ADD2", "City:": "ADDCITY", "State:": "ADDSTATE", "Zip:": "ADDZIP", "County:": "ADDCOUNTY", "Date of Hire:": "DATE_OF_HIRE", "Base Salary:": "ANNUAL_SALARY", "Hours Worked Per Week:": "HOUR_PER_WEEK", "Job Title:": "JOB_TITLE", }; const tier = ['Employee Information', 'Employment Information']; for (kitem of tier) { for (var wkdk in wall_dic[kitem]) { if (wkdk in dic && wall_dic[kitem][wkdk] != '') { if (dic[wkdk] in obj.ee_BASIC_info) { if (dic[wkdk]=="HOMEPHONE"||dic[wkdk]=="WORKPHONE"){ obj.ee_BASIC_info[dic[wkdk]] = wall_dic[kitem][wkdk].replace(/[^\d]+/g, ''); }else{ obj.ee_BASIC_info[dic[wkdk]] = wall_dic[kitem][wkdk];} } } } } const SPkitem_list = ['Employment Information', 'Event Details', 'Employee Information']; const dpt_dic = { "DOB:": "DOB", "Disabled:": "IF_DISABLED", "First Name:": "FIRST_NAME", "Last Name:": "LAST_NAME", "Middle Name:": "MIDDLE_NAME", "Relationship:": "RELATION", "SSN:": "SSN", "Sex:": "GENDER", }; for (var kitem in wall_dic) { if (!SPkitem_list.includes(kitem)) { if ('Relationship:' in wall_dic[kitem] && wall_dic[kitem]['Relationship:'] in obj.ee_DEPT_info) { var rel = wall_dic[kitem]['Relationship:']; for (var wkdk in wall_dic[kitem]) { if (wkdk in dpt_dic && wall_dic[kitem][wkdk] != '') { if (obj.ee_DEPT_info[rel][dpt_dic[wkdk]] == '') { obj.ee_DEPT_info[rel][dpt_dic[wkdk]] = wall_dic[kitem][wkdk]; } else { obj.ee_DEPT_info[rel][dpt_dic[wkdk]] = wall_dic[kitem][wkdk] + '|' + obj.ee_DEPT_info[rel][dpt_dic[wkdk]]; } } } } } } } } else { if (document.getElementById("LkpRelationshipId") == null) { dic = { "SSN": "SSN", "FIRST_NAME": "FirstName", "MIDDLE_NAME": "MiddleName", "LAST_NAME": "LastName", "JOB_TITLE": "JobTitle", "DATE_OF_HIRE": "HireDate", "DOB": "DOB", "WORK_EMAIL": "WorkEmail", "PERSONAL_EMAIL": "PersonalEmail" }; for (key in dic) { if (document.getElementById(dic[key]) != null) { if (document.getElementById(dic[key]).value != "") { if (key in obj.ee_BASIC_info) { obj.ee_BASIC_info[key] = document.getElementById(dic[key]).value } } } }; if (document.body.textContent.includes('Phones')) { var parentDiv = document.querySelector("#contact_phone_list > div > h4").parentElement.children[1].getElementsByTagName("table"); if (parentDiv.length > 0) { var trow = parentDiv[0].getElementsByTagName("tbody")[0].getElementsByTagName("tr")[0]; var typeCell = trow.getElementsByTagName("td")[0]; var numberCell = trow.getElementsByTagName("td")[1]; if (typeCell.innerText == 'Home') { obj.ee_BASIC_info.HOMEPHONE = numberCell.innerText.replace(/[^\d]+/g, ''); } else { obj.ee_BASIC_info.WORKPHONE = numberCell.innerText.replace(/[^\d]+/g, ''); } } } dic_sel = { "PAY_PERIOD": "LkpPayrollGroup", "DIVISION": "LkpDivision", "DEPARTMENT": "LkpDept", "FULL_PART_TIME": "LkpClientClass", }; for (key in dic_sel) { if (document.getElementById(dic[key]) != null) { if (get_sel(document.getElementById(dic_sel[key])) != "") { if (key in obj.ee_BASIC_info) { obj.ee_BASIC_info[key] = document.getElementById(dic_sel[key]).selectedOptions[0].textContent } } } }; if (document.getElementById("DOB") != null) { var allPageTags = document.getElementsByTagName("input"); for (i = 0; i < allPageTags.length; i++) { if (allPageTags[i].name == 'Gender') { if (allPageTags[i].checked == true) { obj.ee_BASIC_info.GENDER = (allPageTags[i].value) } } } }; if (window.__PROFILE_ADDRESS_LIST__ != null) { obj.ee_BASIC_info.ADD1 = window.__PROFILE_ADDRESS_LIST__[0].Address1; if (window.__PROFILE_ADDRESS_LIST__[0].Address2 != null) { obj.ee_BASIC_info.ADD2 = window.__PROFILE_ADDRESS_LIST__[0].Address2; } obj.ee_BASIC_info.ADDCITY = window.__PROFILE_ADDRESS_LIST__[0].City; obj.ee_BASIC_info.ADDSTATE = window.__PROFILE_ADDRESS_LIST__[0].StateDisplay; if (window.__PROFILE_ADDRESS_LIST__[0].Zip.length >= 5) { obj.ee_BASIC_info.ADDZIP = window.__PROFILE_ADDRESS_LIST__[0].Zip.slice(0, 5); }; }; if (document.getElementById('LkpMaritalStatusId') != null) { if (document.getElementById('LkpMaritalStatusId').selectedOptions[0].textContent != '--Select--') { obj.ee_BASIC_info.MARITAL_STATUS = document.getElementById('LkpMaritalStatusId').selectedOptions[0].textContent }; } if (document.documentElement.innerText.includes("Annual base salary")) { list_e = [document.querySelectorAll('div[class="form-control-static"]')[0], document.querySelectorAll('div[class="form-control-static"]')[1], document.querySelector("#hris_form > div > div.col-md-9 > div:nth-child(10) > div.col-md-8")]; list_j = ['ANNUAL_SALARY', 'HOURLY_SALARY', 'HOUR_PER_WEEK']; for (let i = 0; i < list_e.length; i++) { var myVariable = list_e[i] && list_e[i].textContent.trim(); if (myVariable) { if (i != 2) { obj.ee_BASIC_info[list_j[i]] = myVariable.match(/\$\d{1,3}(?:,?\d{3})*(?:\.\d{2})?/)[0]; } else { obj.ee_BASIC_info[list_j[i]] = myVariable.trim(); } } } } }; if (document.getElementById("LkpRelationshipId") != null) { dic_dep = { "FIRST_NAME": "FirstName", "MIDDLE_NAME": "MiddleName", "LAST_NAME": "LastName", "DOB": "DOB", "SSN": "SSN", }; relation = get_sel(document.getElementById('LkpRelationshipId')); if (relation in obj.ee_DEPT_info) { if (obj.ee_DEPT_info[relation]["SSN"] == "") { for (key in dic_dep) { if (document.getElementById(dic_dep[key]) != null) { if (document.getElementById(dic_dep[key]).value != "") { if (key in obj.ee_DEPT_info[relation]) { obj.ee_DEPT_info[relation][key] = document.getElementById(dic_dep[key]).value } } } }; var allPageTags = document.getElementById('edit_data_modal').getElementsByTagName("input"); for (i = 0; i < allPageTags.length; i++) { if (allPageTags[i].name == 'Gender') { if (allPageTags[i].checked == true) { obj.ee_DEPT_info[relation].GENDER = (allPageTags[i].value) } } }; } else { for (key in dic_dep) { if (document.getElementById(dic_dep[key]) != null) { if (document.getElementById(dic_dep[key]).value != "") { if (key in obj.ee_DEPT_info[relation]) { obj.ee_DEPT_info[relation][key] = obj.ee_DEPT_info[relation][key] + "|" + document.getElementById(dic_dep[key]).value } } } }; var allPageTags = document.getElementById('edit_data_modal').getElementsByTagName("input"); for (i = 0; i < allPageTags.length; i++) { if (allPageTags[i].name == 'Gender') { if (allPageTags[i].checked == true) { obj.ee_DEPT_info[relation].GENDER = obj.ee_DEPT_info[relation].GENDER + "|" + allPageTags[i].value } } }; }; } }; } }
